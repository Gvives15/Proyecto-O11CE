{# frontend/templates/login/register_form.html #}
{% extends 'base.html' %}

{% block title %}Registrar Usuario{% endblock %}

{% block content %}
  <div class="container" style="max-width: 500px; margin-top: 50px;">
    <h2 class="mb-4">Crear Cuenta</h2>

    {% if errores %}
      <div class="alert alert-danger">
        <ul>
          {% for campo, mensajes in errores.items %}
            {% for msg in mensajes %}
              <li>{{ msg }}</li>
            {% endfor %}
          {% endfor %}
        </ul>
      </div>
    {% endif %}

    <form method="post">
      {% csrf_token %}
      <div class="form-group">
        <label for="username">Nombre de Usuario</label>
        <input type="text" id="username" name="username" class="form-control" required>
      </div>
      <div class="form-group">
        <label for="email">Correo Electrónico</label>
        <input type="email" id="email" name="email" class="form-control" required>
      </div>
      <div class="form-group">
        <label for="password">Contraseña</label>
        <input type="password" id="password" name="password" class="form-control" required>
      </div>
      <div class="form-group">
        <label for="password2">Repetir Contraseña</label>
        <input type="password" id="password2" name="password2" class="form-control" required>
      </div>
      <div class="form-group">
        <label for="rol">Rol</label>
        <select id="rol" name="rol" class="form-control" required>
          <option value="">-- Selecciona un rol --</option>
          {% for r in roles %}
            <option value="{{ r.nombre }}">{{ r.nombre }}</option>
          {% endfor %}
        </select>
      </div>
      <button type="submit" class="btn btn-primary btn-block">Registrar</button>
    </form>

    <div class="mt-3 text-center">
      <a href="{% url 'login' %}">¿Ya tienes cuenta? Inicia Sesión</a>
    </div>
  </div>
{% endblock %}
